* Basic Needs for OpenMW
Requires a recent build of ~OpenMW~ (mine was built from 0.49.0 sources in June 2023), as the mod uses the fresh Actor Spells API to dynamically add and remove debuffs from the player.

#+CAPTION: Screenshot showcasing basic needs widgets on the right side of the screen
#+NAME: Screenshot
[[./BasicNeeds-screenshot-01.jpg]]

** Features
- Accumulate thirst, hunger and exhaustion while adventuring, accrue penalties for untending needs for too long. Drink, eat and sleep to recover. Rates are configurable in settings. Player gets informed whenever their status changes and there is a widget on the HUD.

- Uses an internal whitelist table to determine how much a consumable changes thirst, hunger or exhaustion. You can stave off exhaustion with a tactical use of moon sugar or skooma. No changes to existing items, all is powered by OpenMW Lua.

- Press Sneak while swimming to refill a single water container in your inventory. This works with most of the bottles and jugs in the game, as well as of those in the supported mods.

** Effects
*** Thirst
- 0-199 :: No effect
- 200-399 :: Mildly Thirsty (-10 Endurance)
- 400-599 :: Thirsty (-10 Endurance, -10 Agility)
- 600-799 :: Parched (-10 Endurance, -10 Agility, -10 Willpower)
- 800-999 :: Dehydrated (-20 Endurance, -10 Agility, -10 Willpower)
- 1000- :: Death
*** Hunger
- 0-199 :: No effect
- 200-399 :: Peckish (-10 Agility)
- 400-599 :: Hungry (-10 Agility, -10 Strength)
- 600-799 :: Famished (-10 Agility, -10 Strength, -10 Personality)
- 800-999 :: Starving (-10 Agility, -20 Strength, -10 Personality)
- 1000- :: Death
*** Exhaustion
- 0-199 :: No effect
- 200-399 :: Mildly Tired (-10 Speed)
- 400-599 :: Tired (-10 Speed, -10 Agility)
- 600-799 :: Drained (-10 Speed, -10 Agility, -10 Intelligence)
- 800-999 :: Exhausted (-20 Speed, -10 Agility, -10 Intelligence)
- 1000- :: Death

** Changelog
*** 2023-07-01 - Major update (1.0.0)
- Implement filling of any miscellaneous bottle/jug with water
- Remove waterskin, as it serves no purpose anymore
- Add an interface for querying needs, for extended mod support
*** 2023-06-30 - Patch update (0.1.2)
- Add items from ~OAAB_Data.esm~ to patches 
*** 2023-06-30 - Patch update (0.1.1)
- Refactor consumable data to use tabulated formats
- Add support for patches
- Add items from ~Morrowind.esm~, ~Tribunal.esm~ and ~Bloodmoon.esm~ to patches 
- Add items from ~Tamriel_Data.esm~ to patches 
*** 2023-06-29 - Initial alpha release (0.1.0)

** Supported mods
- Tamriel_Data
- OAAB_Data

** Known bugs
- Used bottles doesn't show up in inventory immediately, but requires one to close and reopen inventory screen, or do some other action in the inventory. Just a visual thing.
- Both resting and waiting is considered sleeping by the mod. There is currently no easy way to find out if the player has actually slept.
- Item data is only processed once, when starting a new game. Adding a new mod, even if it's supported, in the middle of a playthrough, doesn't add functionality to the new items.

** Long-term issues, future ideas
*** TODO Make a debugging mode which is toggleable in settings
- Useful for testing

*** TODO Make item data more aware of already loaded stuff 
- We can loop through data on game load and compare against existing to figure out if some items need to be added

*** HUD currently uses text for showing status
- Bespoke icons would be nice, but I have limited time to get into that.
- Similarly, sound effects for state changes could be more immersive than message boxes.

*** HUD widget position doesn't respond to resolution change
- After resolution change, a game save/load is required for the widgets to update. Not related to my mod, as there doesn't seem to be a way to subscribe to resolution changes yet.
- Generally, the widget setup is a bit poor at the moment and YMMV depending on what resolution you're playing with.

*** Bottle refill won't work in shallow water
- It's not enough to stand in water, you need to be deep enough so the swimming animation is playing.
- I need to see if this could be made better with a ray casting downwards and checking for water collision, or see if we get cell water level available later for the Cell API. However, that would clash with use of Sneak action for refills...

*** Availability of items and services
- There are many locations in the vanilla game where drink, food or beds may not be readily available. It would require a bigger overhaul to address this.

*** Implement more features
- A bedroll for camping. Could also look into disabling resting altogether, unless using a bed or a bedroll.
- Chance of disease from raw meats (unless Bosmer, Khajiit or Orsimer). Would require a way to prepare meals, which is most likely out of scope for this mod. But we'll see what happens.
